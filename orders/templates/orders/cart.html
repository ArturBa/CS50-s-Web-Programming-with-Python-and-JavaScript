{% extends "orders/base.html" %}

{% load range %}

{% block title %}
    Cart
{% endblock %}

{% block head %}
    {#    <script src="{% static 'orders/js/cart.js' %}"></script>#}
{% endblock %}

{% block content %}

    {% if not cart.sub_order.all and not cart.pizza_order.all %}
        <a href="{% url 'menu' %}" style="text-align: center;"><h1>Begin orders now</h1></a>
    {% endif %}

    {% for pizza in cart.pizza_order.all %}
        <div class="pizza-cart item-cart">
            <h2>Pizza: {{ pizza.pizza_id.type.name }}: {{ pizza.pizza_id.name }}</h2>
            <form>
                {% for i in pizza.pizza_id.toppings_count|range %}
                    <label>
                        <select>
                            {% for top in toppings %}
                                <option value="{{ top.id }}">{{ top.name }}</option>
                            {% endfor %}
                        </select>
                    </label>
                {% endfor %}
                <input type="checkbox"> Big
            </form>

            <div class="hidden price-small">{{ pizza.pizza_id.price_small }}</div>
            <div class="hidden price-large">{{ pizza.pizza_id.price_large }}</div>
            <div class="price"></div>
        </div>
    {% endfor %}

    {% for sub in cart.sub_order.all %}
        <div class="sub-cart item-cart">
            <h2>Sub: {{ sub.sub_id.name }}</h2>
            <form>
                {% if sub.sub_id.adds_available %}
                    <label>
                        <select multiple>
                            {% for add in sub_adds %}
                                <option value="{{ add.id }}">{{ add.name }} + {{ add.price }}</option>
                            {% endfor %}
                        </select>
                    </label>
                {% endif %}
                <input type="checkbox"> Big
                <input type="checkbox"> Extra cheese + {{ sub.sub_id.extra_cheese_price }}
            </form>

            <div class="hidden price-small">{{ sub.sub_id.price_small }}</div>
            <div class="hidden price-large">{{ sub.sub_id.price_large }}</div>
            <div class="price"></div>
        </div>
    {% endfor %}

    {% for salad in cart.salad_order.all %}
        <div class="salad-cart item-cart">
            <h2>Salad: {{ salad.salad_id.name }}</h2>

            <div class="price">{{ salad.salad_id.price }}</div>
        </div>
    {% endfor %}

    {% for pasta in cart.pasta_order.all %}
        <div class="pasta-cart item-cart">
            <h2>Pasta: {{ pasta.pasta_id.name }}</h2>

            <div class="price">{{ pasta.pasta_id.price }}</div>
        </div>
    {% endfor %}

    {% for dinner_plate in cart.dinner_plate_order.all %}
        <div class="dinner_plate-cart item-cart">
            <h2>Dinner plate: {{ dinner_plate.dinner_plate_id.name }}</h2>

            <form>
                <input type="checkbox"> Big
            </form>

            <div class="hidden price-small">{{ dinner_plate.dinner_plate_id.price_small }}</div>
            <div class="hidden price-large">{{ dinner_plate.dinner_plate_id.price_large }}</div>
            <div class="price"></div>
        </div>
    {% endfor %}

{% endblock %}
